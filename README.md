# Team16_BE
16조 백엔드

# 4주차 코드리뷰
---
1. 반환 값이
   {"status": ---,
   "message": ---,
   "event" : ---}
   일 때 event의 내용이 빈 리스트이면 200과 204 중 어느 값으로 반환이 더 나은 것 같은지 궁금합니다!  
   어떤 회원의 일정을 조회했을 때 아무 일정도 없을 때 무슨 값으로 반환해야될까요?  
   event가 빈 리스트라 204라고 생각했지만 반환 내용에는 status, message가 있기 때문에 200도 된다고 생각하는데 멘토님 의견이 궁금합니다.
---
2. 캐시를 사용하고 있습니다. 여기서 영어로 작성된 내용들은 문제가 없지만 한글로 작성된 내용은 UTF-8로 인코딩 되어서 캐시에 저장이 됩니다.  
   이 때 값을 다시 사용하기 위해 UTF-8로 인코딩된 문자를 디코딩하는 메서드를 따로 만들어야 하는지, 아니면 자동으로 변환되는지 궁금합니다.

   추가로 궁금한 점이 더 있습니다. 이건 저희가 정해야 하긴 하지만 캐시 사용할 때 TTL 시간을 정해줘야 하는데 실제 서비스에서 캐시를 사용한다면 어느 정도로 시간을 주는지 궁금합니다.

- 저희 서비스에서 캘린더 기능을 이용하고 있는데 캘린더의 일정들을 저희 db와 계속 동기화하는 건 불가능하다고 판단해서,  
일정 정보가 필요할 때 카카오톡에 조회 요청을 보내서 그 값을 반환하는 것을 생각했습니다. 그런데 자주 변경되지 않는 일정 값들을 조회할 때마다 카카오톡에 요청을 보내면 좋지 않을 것이라고 생각해서 캐시를 적용해보기로 했습니다.
- 그래서 저희 db에는 모임에서 확정된 일정만 저장하는 걸로 결정했습니다.
---
3. 전략 패턴을 적용해보았는데 현재 각 서비스(PreferenceFoodService, NonPreferenceFoodService, FoodRepositoryService)의 역할 분담이 적절한지, 개선할 수 있는 부분이 있는지 궁금합니다.  
   아직도 서비스 클래스에서 공통된 로직이 조금 중복되고 있는데, 이 중복을 줄일 수 있는 더 나은 방법이 있을까요?  
   또, 테스트 코드를 어떤식으로 짜야 효과적으로 테스트할 수 있을까요?  
   특히 전략 패턴을 사용한 경우에 더 나은 테스트 방법이 있을지도 궁금합니다
---

4. [argument resolver 관련 질문](https://github.com/kakao-tech-campus-2nd-step3/Team16_BE/pull/27#discussion_r1787605518)  
   저는 처음에 당연히 entity를 반환하는게 맞다! 라고 생각했습니다.  
   만약 dto나 id값만 반환한다면 중복을 줄이려고 argument resolver에 작성해놓은 코드가 의미가 없어진다고 생각했었습니다.  
   그런데 찾아보고 검색해본 결과 위와 같은 생각이 들었습니다.  
   멘토님께서는 어떻게 생각하시는지 궁금합니다! (Entity 반환 vs dto 반환)  
   또, argument resolver에서 service나 repository를 의존하거나 아니면 아예 의존하지 않을 수도 있을 것 같은데, 멘토님께서는 어떻게 하시는지도 궁금합니다!
---